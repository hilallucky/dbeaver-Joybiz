-- step 1
select * from barang b where id in (4,255,326,457,459,461,463, 747, 823);

select *
from barang_detail
where id_barang_fk in (4,255,326,457,459,461,463, 747, 823)
ORDER BY id_induk_fk asc

-- Step 2
select td.id_barang_fk, td."name", sum(td.qty) as total_barang
from "transaction" t
	join transaction_detail td on t.id = td.id_trans_fk
where td.id_barang_fk IN (
4,
5,
7,
9,
10,
12,
42,
43,
44,
45,
46,
61,
62,
68,
84,
85,
86,
111,
112,
113,
114,
115,
123,
124,
127,
128,
129,
142,
143,
144,
145,
150,
153,
157,
177,
181,
182,
184,
189,
190,
193,
196,
197,
198,
199,
203,
205,
206,
211,
214,
216,
225,
231,
232,
233,
234,
236,
238,
243,
244,
245,
246,
253,
255,
273,
275,
291,
293,
294,
299,
300,
326,
342,
345,
346,
347,
378,
391,
393,
394,
395,
396,
405,
408,
409,
410,
411,
425,
431,
432,
433,
434,
436,
437,
457,
458,
459,
460,
461,
462,
463,
464,
469,
470,
471,
472,
473,
502,
503,
504,
505,
506,
508,
509,
510,
523,
527,
532,
533,
540,
541,
546,
549,
552,
558,
559,
571,
574,
577,
580,
605,
608,
609,
615,
626,
646,
649,
650,
651,
652,
653,
654,
657,
660,
661,
666,
670,
677,
681,
684,
686,
704,
710,
712,
713,
714,
717,
725,
727,
728,
733,
740,
743,
747,
762,
780,
782,
783,
788,
791,
801,
802,
803,
813,
818,
823,
842,
858,
861,
862,
868,
871,
874,
875,
879,
888,
889,
890,
891,
895,
995
) and t.transaction_date BETWEEN '2023-09-28' and '2023-10-25'and t.deleted_at is null and t.transaction_date is not null
GROUP BY td."id_barang_fk",td."name"
ORDER BY td.id_barang_fk



-- Step 3
select * from barang_detail
where id_barang_fk in (4,255,326,457,459,461,463, 747, 823) 
and id_induk_fk in
(
995
) ORDER BY id_induk_fk asc